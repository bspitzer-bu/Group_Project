{% extends 'base.html' %}
{% load static from staticfiles %}



{% block title %}{{gpcr.pdb_id}}{% endblock %}

{% block content %}
    <div class="row columns">
        {{ block.super }}
    </div>


    <div>
    <h1>{{gpcr.pdb_id}}</h1>
    <table>
        <tr>
            <th><a href="http://www.rcsb.org/">PDB</a></th>
            <th>GPCR Class</th>
            <th>Gene Name</th>
            <th>Resolution</th>
            <th>PubMed ID</th>
            <th>Deposition Date</th>
            <th>Modification Date</th>
        </tr>

        <tr>
            <td><a href="http://www.rcsb.org/structure/{{gpcr.pdb_id}}">{{gpcr.pdb_id}}</a></td>
            <td>{{gpcr.gpcr_class}}</td>
            <td>{{gpcr.gene_name}}</td>
            <td>{{gpcr.resolution}}</td>
            <td><a href="https://www.ncbi.nlm.nih.gov/pubmed/?term={{gpcr.pubmed_id}}">PubMed ID</a></td>
            <td>{{gpcr.deposition_date}}</td>
            <td>{{gpcr.modification_date}}</td>

        </tr>
    </table>
    </div>

    <div>
        <h2>binding site stuff</h2>
        <h3>link to download FTMap results</h3>
    </div>

    <div>
        <h2>This is where the similarity stuff will be in a collapsible, filterable table</h2>
    </div>
{% endblock content %}

{% block extra_js %}
    <script src="{% static 'js/vendor/ngl.js' %}"></script>
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          var stage = new NGL.Stage("viewport");
          stage.loadFile("{{MEDIA_URL}}{{gpcr.pdb_file}}", {defaultRepresentation: true});
        });
      </script>
  <div id="viewport" style="width:400px; height:300px;"></div>
    Use your mouse to drag, rotate, and zoom
    <div class="panel-footer">Powered by <a href="https://github.com/arose/ngl" target="_blank">NGL</a></div>

{% endblock extra_js %}



